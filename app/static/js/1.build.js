webpackJsonp([1],{101:function(t,a,s){"use strict";a.a={name:"versions",data:function(){return{loading:!1,updating:!1,softVers:{},softType:"V05",itemsNum:30,pageItemAmount:30,versReadyToUpdate:[],curPage:1}},methods:{getVers:function(t,a){var s=this;$.ajax({url:"/queryversions",type:"GET",dataType:"json",data:{softType:s.softType,start:t,end:a},beforeSend:function(){s.loading=!0},complete:function(){s.loading=!1},success:function(t){s.itemsNum=t.itemsNum,s.softVers=t.items},error:function(){s.$message({showClose:!0,message:"网络连接失败，无法获取数据",type:"error"}),console.log("AJAX请求无法获取Version列表"),s.softVers={1:{client:"Zhafir",version:"V0X_38_50",date:"2018.08.18",base:"V0X_38_20",record:"新增较多功能",reason:"这是一个例子",remark:"",author:"XX",path:"G:/windows/system32/test.rar"},2:{client:"test1",version:"V0X_15_XX",date:"2017.01.18",base:"V0X_15_15",record:"1.一组吹气 2.一组气动中子 3.一组阀门 4.两组模温监控 5.质量参数公差设定质量监控画面的监控值 6.质量监控画面增加：模温异常的不良判定 7.质量判别控制电气接口，传送带 8.一组可编程I/O 9.下料口温度闭环控制 10.调模模式下打开后安全门，蜂鸣器不响 1.产品质量监控对循环周期只采样一次",reason:"这也是一个例子",remark:"",author:"员工A",path:""},3:{client:"test2",version:"V0X_15_XX",date:"2017.01.18",base:"V0X_15_15",record:"1.一组吹气 2.一组气动中子 3.一组阀门 4.两组模温监控 5.质量参数公差设定质量监控画面的监控值 6.质量监控画面增加：模温异常的不良判定 7.质量判别控制电气接口，传送带 8.一组可编程I/O 9.下料口温度闭环控制 10.调模模式下打开后安全门，蜂鸣器不响 1.产品质量监控对循环周期只采样一次",reason:"这还是一个例子",remark:"",author:"技术员B",path:""},4:{client:"test3",version:"V0X_15_XX",date:"2017.01.18",base:"V0X_15_15",record:"1.一组吹气 2.一组气动中子 3.一组阀门 4.两组模温监控 5.质量参数公差设定质量监控画面的监控值 6.质量监控画面增加：模温异常的不良判定 7.质量判别控制电气接口，传送带 8.一组可编程I/O 9.下料口温度闭环控制 10.调模模式下打开后安全门，蜂鸣器不响 1.产品质量监控对循环周期只采样一次",reason:"这依旧是一个例子",remark:"",author:"管理人员C",path:"g:/sigmatek/测试/v0x-15-xx.rar;g:/临时/管理人员C/v0x_15_xx.7z"}}}})},gotoPage:function(t){this.curPage=parseInt(t);var a=30*(this.curPage-1),s=30*this.curPage;this.getVers(a,s)},checkUpdateInfo:function(){var t=this;$.ajax({url:"/checkupdate",type:"GET",dataType:"json",data:{softType:t.softType},beforeSend:function(){t.updating=!0},complete:function(){t.updating=!1},success:function(a){"SUCCESS"===a.status.toUpperCase()?($("#updateInfoCheckdialog").modal("show"),t.versReadyToUpdate=a.newVers):t.$message({showClose:!0,message:a.description,type:"error"})},error:function(){t.$message({showClose:!0,message:"网络无法连接，更新失败",type:"error"})}})},downloadSrcCode:function(t){var a=this;$.ajax({type:"GET",url:"/downloadsrccode",dataType:"json",data:{path:t},beforeSend:function(){},success:function(t){"SUCCESS"===t.status.toUpperCase()&&t.url?window.open(t.url):alert("后台遇到错误，无法下载文件，错误描述: "+t.description)},error:function(t,s){a.waiting=!1,alert("无法连接服务器")}})},startUpdate:function(){var t=this;$.ajax({url:"/startupdate",type:"GET",dataType:"json",data:{softType:t.softType},beforeSend:function(){t.updating=!0},complete:function(){t.updating=!1},success:function(a){"SUCCESS"===a.status.toUpperCase()?(t.$message({showClose:!0,message:"更新成功",type:"success"}),t.gotoPage(1),t.versReadyToUpdate=[]):t.$message({showClose:!0,message:a.description,type:"error"})},error:function(){t.$message({showClose:!0,message:"网络无法连接，更新失败",type:"error"})}}),$("#updateInfoCheckdialog").modal("hide")}},mounted:function(){this.getVers(0,30)},watch:{softType:{handler:function(t,a){t!==a&&(this.curPage=1,this.gotoPage(1))}}}}},129:function(t,a,s){var e=s(130);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);s(2)("12ae73ae",e,!0,{})},130:function(t,a,s){a=t.exports=s(1)(!1),a.push([t.i,"#versions[data-v-c85ff39e]{margin-top:10px;padding-bottom:2rem}.no-bt[data-v-c85ff39e]{border-top:0}.pointer[data-v-c85ff39e]{cursor:pointer}.in-one-line[data-v-c85ff39e]{max-height:1.5rem;overflow:hidden;max-width:1000px;transition:max-height .5s}@media screen and (max-width:1200px){.in-one-line[data-v-c85ff39e]{max-width:800px!important;transition:max-height .5s}}@media screen and (max-width:900px){.in-one-line[data-v-c85ff39e]{max-width:400px!important;transition:max-height .5s}}tr:hover .in-one-line[data-v-c85ff39e]{white-space:normal;max-height:10rem;transition:max-height .5s}footer[data-v-c85ff39e]{background-color:#fff;opacity:.5;transform:scale(1.5);transition:all .5s}footer[data-v-c85ff39e]:hover{opacity:.9;transition:all .5s}#pagination[data-v-c85ff39e]{display:flex;justify-content:center}",""])},131:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"versions"}},[s("div",[s("ul",{staticClass:"nav nav-tabs"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link disabled",staticStyle:{"user-select":"none"}},[t._v("Software-versions \n          "),s("i",{staticClass:"fa fa-refresh",class:{"fa-spin":t.updating},staticStyle:{cursor:"pointer"},attrs:{"aria-hidden":"true"},on:{click:t.checkUpdateInfo}})])]),t._v(" "),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:{active:"V01"===t.softType},attrs:{href:"##"},on:{click:function(a){t.softType="V01"}}},[t._v("V01")])]),t._v(" "),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:{active:"V02"===t.softType},attrs:{href:"##"},on:{click:function(a){t.softType="V02"}}},[t._v("V02")])]),t._v(" "),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:{active:"V03V04"===t.softType},attrs:{href:"##"},on:{click:function(a){t.softType="V03V04"}}},[t._v("V03V04")])]),t._v(" "),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:{active:"V05"===t.softType},attrs:{href:"##"},on:{click:function(a){t.softType="V05"}}},[t._v("V05")])]),t._v(" "),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:{active:"T05"===t.softType},attrs:{href:"##"},on:{click:function(a){t.softType="T05"}}},[t._v("T05")])])])]),t._v(" "),s("div",{staticClass:"row",staticStyle:{clear:"both"}},[s("div",{staticClass:"col-12"},[s("table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table table-hover"},[t._m(0),t._v(" "),s("tbody",t._l(t.softVers,function(a,e){return s("tr",{key:e},[s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"in-one-line"},[t._v(t._s(a.client))])]),t._v(" "),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"in-one-line"},[t._v(t._s(a.version))])]),t._v(" "),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"in-one-line"},[t._v(t._s(a.date))])]),t._v(" "),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"in-one-line"},[t._v(t._s(a.base))])]),t._v(" "),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"in-one-line"},[t._v(t._s(a.record))])]),t._v(" "),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"in-one-line"},[t._v(t._s(a.reason))])]),t._v(" "),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"in-one-line"},[t._v(t._s(a.remark))])]),t._v(" "),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"in-one-line"},[t._v(t._s(a.author))])]),t._v(" "),s("td",{attrs:{scope:"col"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:""!==a.path,expression:"msg.path !== ''"}],staticClass:"dropright"},[s("i",{staticClass:"fa fa-bolt text-danger pointer",attrs:{"aria-hidden":"true","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown"}}),t._v(" "),s("div",{staticClass:"dropdown-menu"},t._l(a.path.split(";"),function(a){return s("a",{staticClass:"dropdown-item",attrs:{href:"##"},on:{click:function(s){t.downloadSrcCode(a)}}},[t._v("\n                  "+t._s(a)+" \n                  "),s("i",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}})])}))])])])}))])])]),t._v(" "),s("footer",{staticClass:"fixed-bottom"},[s("div",{attrs:{id:"pagination"}},[s("el-pagination",{attrs:{layout:"prev, pager, next",total:10*t.itemsNum/t.pageItemAmount,"current-page":t.curPage},on:{"current-change":t.gotoPage}})],1)]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"updateInfoCheckdialog",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[t._v("检查到"),s("b",{staticClass:"text-danger"},[t._v(t._s(t.softType))]),t._v("有下列更新")]),t._v(" "),t._m(1)]),t._v(" "),s("div",{staticClass:"modal-body"},[t.versReadyToUpdate.length>0?s("ul",t._l(t.versReadyToUpdate,function(a){return s("li",[t._v(t._s(a[0])+" "+t._s(a[1])+" "+t._s(a[7]))])})):s("p",[t._v("已经是最新！")])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.startUpdate}},[t._v("确认更新")])])])])])])},o=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",{staticClass:"no-bt",attrs:{scope:"col"}},[t._v("客户")]),t._v(" "),s("th",{staticClass:"no-bt",attrs:{scope:"col"}},[t._v("版本")]),t._v(" "),s("th",{staticClass:"no-bt",attrs:{scope:"col"}},[t._v("更改日期")]),t._v(" "),s("th",{staticClass:"no-bt",attrs:{scope:"col"}},[t._v("原版本")]),t._v(" "),s("th",{staticClass:"no-bt",attrs:{scope:"col"}},[t._v("内容")]),t._v(" "),s("th",{staticClass:"no-bt",attrs:{scope:"col"}},[t._v("原因")]),t._v(" "),s("th",{staticClass:"no-bt",attrs:{scope:"col"}},[t._v("备注")]),t._v(" "),s("th",{staticClass:"no-bt",attrs:{scope:"col"}},[t._v("更改人")]),t._v(" "),s("th",{staticClass:"no-bt",attrs:{scope:"col"}},[t._v("更多")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],i={render:e,staticRenderFns:o};a.a=i},93:function(t,a,s){"use strict";function e(t){s(129)}Object.defineProperty(a,"__esModule",{value:!0});var o=s(101),i=s(131),n=s(3),r=e,c=n(o.a,i.a,!1,r,"data-v-c85ff39e",null);a.default=c.exports}});
//# sourceMappingURL=1.build.js.map